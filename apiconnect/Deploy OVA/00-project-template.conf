# ===========================================================================
# APIC general configuration
# ===========================================================================
# Usage:
#   Make a copy of this file and name it per the project.
#   Customize the below configuration.
#   All hostnames and endpoints must be lower case.
#   Pass this file as an argument to the utility scripts.
# ===========================================================================
PROJECT_DIR=MYPROJECT
APIC_VERSION=10.0.5.2
VM_APICADM_PASSWORD=SAVEtheWORLD

# [nonproduction or production]
APIC_LICENSE=nonproduction

# Select a license id from https://www.ibm.com/docs/en/api-connect/10.0.5.x_lts?topic=connect-api-licenses
APIC_LICENSE_ID=L-RJON-CEBL97
# ===========================================================================
# APIC Management service configuration
# ===========================================================================
MGMT_APIC_SUBSYSTEM_NAME=management
# [n1xc4.m16 or n3xc4.16]
MGMT_APIC_DEPLOYMENT_PROFILE=n1xc4.m16

MGMT_VM1_HOST=mgmt1.apim.company.com
MGMT_VM1_IP=10.10.10.10
MGMT_VM1_SUBNET_MASK=255.255.255.0
MGMT_VM1_DEFAULT_GATEWAY=10.10.10.1

MGMT_SEARCH_DOMAIN=company.com
MGMT_DNS_SERVERS="10.10.10.2,10.10.10.3"

MGMT_ENDPOINT_CM=cm.apim.company.com
MGMT_ENDPOINT_APIM=apim.apim.company.com
MGMT_ENDPOINT_PLATFORM_API=platform.apim.company.com
MGMT_ENDPOINT_CONSUMER_API=consumer.apim.company.com
MGMT_ENDPOINT_HUB=hub.apim.company.com
MGMT_ENDPOINT_TURNSTILE=turnstile.apim.company.com
# ===========================================================================
# APIC Portal service configuration
# ===========================================================================
PTL_APIC_SUBSYSTEM_NAME=portal
# [n1xc4.m16 or n3xc4.16]
PTL_APIC_DEPLOYMENT_PROFILE=n1xc4.m16

PTL_VM1_HOST=ptl1.apim.company.com
PTL_VM1_IP=10.10.10.10
PTL_VM1_SUBNET_MASK=255.255.255.0
PTL_VM1_DEFAULT_GATEWAY=10.10.10.1

PTL_SEARCH_DOMAIN=company.com
PTL_DNS_SERVERS="10.10.10.2,10.10.10.3"

PTL_ENDPOINT_ADMIN=padmin.apim.company.com
PTL_ENDPOINT_PORTAL=portal.apim.company.com
# ===========================================================================
# APIC Analytics service configuration
# ===========================================================================
A7S_APIC_SUBSYSTEM_NAME=analytics
# [n1xc2.m16 or n3xc4.m16]
A7S_APIC_DEPLOYMENT_PROFILE=n1xc2.m16

A7S_VM1_HOST=alt1.apim.company.com
A7S_VM1_IP=10.10.10.10
A7S_VM1_SUBNET_MASK=255.255.255.0
A7S_VM1_DEFAULT_GATEWAY=10.10.10.1

A7S_SEARCH_DOMAIN=company.com
A7S_DNS_SERVERS="10.10.10.2,10.10.10.3"

A7S_ENDPOINT_AI=ai.apim.company.com
# ===========================================================================
# DataPower configuration
# ===========================================================================
DP_VERSION=10.5.0.2

DP_SERVER1_MGMT_IP=10.10.10.10
DP_SERVER1_MGMT_HOSTNAME=gtw1.apim.company.com
DP_SERVER1_MGMT_HOST_ALIAS=mgmt
DP_SERVER1_DATA_IP=$DP_SERVER1_MGMT_IP
DP_SERVER1_DATA_HOSTNAME=$DP_SERVER1_MGMT_HOSTNAME
DP_SERVER1_DATA_HOST_ALIAS=data
DP_SERVER1_SOMA_PORT=5550
DP_SERVER1_ROMA_PORT=5554
DP_SERVER1_USER_NAME=admin
DP_SERVER1_USER_PASSWORD=
# ===========================================================================
# APIC Gateway service configuration
# ===========================================================================
DP_GWD_PEERING_PRIORITY_SERVER1=80
DP_GWD_PEERING_PRIORITY_SERVER2=90
DP_GWD_PEERING_PRIORITY_SERVER3=100

DP_APIC_DOMAIN_NAME=apiconnect
DP_GWD_ENDPOINT=gwd.apim.company.com
DP_GWD_ENDPOINT_PORT=3000
DP_GW_ENDPOINT=gw.apim.company.com
DP_GW_ENDPOINT_PORT=443

DP_CRYPTO_DP_PRIVKEY_FILENAME=testapimanagement.gosha.com-key.pem
DP_CRYPTO_DP_CERT_FILENAME=testapimanagement.gosha.com-cer.pem
DP_CRYPTO_INTERCA_CERT_FILENAME=testapimanagement.gosha.com-cer.pem
DP_CRYPTO_ROOTCA_CERT_FILENAME=testapimanagement.gosha.com-cer.pem

# ===========================================================================
# Certificate config
# ===========================================================================
# KEYS_GEN_ROOT_CA=YES
ROOTCA_CN=APICROOTCA

KEYS_COUNTRY=CA
KEYS_STATE=ONTARIO
KEYS_LOCALITY=OTTAWA
KEYS_ORGANIZATION=COMPANY
KEYS_ORGANIZATIONAL_UNIT=IT
KEYS_CERT_DAYS=3600
# ===========================================================================
# INTERNAL - DO NOT CHANGE THE BELOW CONTENT
# ===========================================================================
VM_APICADM_PASSWORD_HASHED=$(openssl passwd -1 $VM_APICADM_PASSWORD)
VM_APICADM_SSH_KEY_FILENAME=apic-vm-ssh-key
VM_HD_PASSWORD=AGoodBeginningMakesAGoodEnding936

GTW_PRIVKEY=$DP_SERVER1_MGMT_HOSTNAME-privkey.pem
GTW_SSCERT=$DP_SERVER1_MGMT_HOSTNAME-sscert.pem
GTW_CERT=$DP_SERVER1_MGMT_HOSTNAME-cert.pem
GTW_CSR=$DP_SERVER1_MGMT_HOSTNAME.csr
GTW_CONF=$DP_SERVER1_MGMT_HOSTNAME.conf
GTW_EXT=$DP_SERVER1_MGMT_HOSTNAME.ext
GTW_BUNDLE=$DP_SERVER1_MGMT_HOSTNAME-bundle.pem

ROOTCA_PRIVKEY=RootCA-privkey.pem
ROOTCA_CERT=RootCA-cert.pem
ROOTCA_CONF=RootCA.conf

DP_TIMEZONE=UTC
DP_SOMA_URI=/service/mgmt/3.0
DP_SERVER1_SOMA_URL="https://${DP_SERVER1_MGMT_HOSTNAME}:${DP_SERVER1_SOMA_PORT}${DP_SOMA_URI}"
DP_SERVER1_ROMA_URL="https://${DP_SERVER1_MGMT_HOSTNAME}:${DP_SERVER1_ROMA_PORT}"

DP_CRYPTO_DP_KEY_OBJ=GWD_PrivKey
DP_CRYPTO_DP_CERT_OBJ=GWD_Cert
DP_CRYPTO_INTERCA_CERT_OBJ=GWD_Inter_CA_Cert
DP_CRYPTO_ROOTCA_CERT_OBJ=GWD_Root_CA_Cert
DP_CRYPTO_DP_IDCRED_OBJ=GWD_IdCred
DP_CRYPTO_SSL_SERVER_PROFILE_OBJ=GWD_ServerProfile
DP_CRYPTO_SSL_CLIENT_PROFILE_OBJ=GWD_ClientProfile

DP_PEERING_MGR_GWD=gwd
DP_PEERING_MGR_API_TOKENS=tokens
DP_PEERING_MGR_API_RATE_LIMIT=api-rate-limit
DP_PEERING_MGR_SUBS=subs
DP_PEERING_MGR_API_PROBE=probe
DP_PEERING_MGR_GWS_RATE_LIMIT=gws-rate-limit
